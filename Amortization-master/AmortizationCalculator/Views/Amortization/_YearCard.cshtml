@model List<IGrouping<int, AmortizationCalculator.Models.AmortizationEntryModel>>


<div class="card shadow-sm mb-4 year-index-card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h3 class="h5 mb-0">Années disponibles</h3>
        <small class="text-muted">
            @Model.First().Key – @Model.Last().Key
        </small>
    </div>

    <div class="card-body">
        <div class="form-text mt-2 mb-2">Cliquez sur une année pour voir le détail.</div>
        <div class="d-flex flex-wrap gap-2 year-pills">
            @foreach (var yg in Model)
            {
                <button type="button"
                        class="btn btn-outline-primary btn-sm"
                        data-bs-toggle="modal"
                        data-bs-target="#yearModal_@yg.Key">
                    @yg.Key
                </button>
            }
        </div>

        <div class="text-end">
            <a asp-controller="Download" asp-action="DownloadPdf" class="btn btn-success">
                <i class="fa-solid fa-file-pdf me-1"></i>Télécharger PDF
            </a>
        </div>

        <div style="margin-top:15px; padding:0 10px; background-color:#f5f5f5; border-left:4px solid #ff9800;">
            <strong>⚠️ Attention :</strong>
            Ce document est une simulation générée automatiquement en fonction des données saisies.
            Il est fourni à titre purement informatif et ne constitue pas un document contractuel.
            Pour tout calcul officiel et décision financière, veuillez consulter votre banque ou un courtier.
        </div>
    </div>
</div>
